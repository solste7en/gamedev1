<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Multiplayer</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.3.2/pixi.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- Main Menu -->
        <div id="menu-screen" class="screen active">
            <div class="menu-container">
                <h1 class="game-title">üêç SNAKE</h1>
                <h2 class="game-subtitle">MULTIPLAYER</h2>
                
                <div class="player-name-section">
                    <label for="player-name">Your Name</label>
                    <input type="text" id="player-name" maxlength="12" placeholder="Enter name...">
                </div>
                
                <div class="menu-buttons">
                    <button id="btn-single-player" class="btn btn-success">
                        <span class="btn-icon">üéÆ</span>
                        Single Player
                    </button>
                    <button id="btn-create-room" class="btn btn-primary">
                        <span class="btn-icon">+</span>
                        Create Multiplayer
                    </button>
                    <button id="btn-join-room" class="btn btn-secondary">
                        <span class="btn-icon">‚Üí</span>
                        Join Room
                    </button>
                    <button id="btn-browse-rooms" class="btn btn-tertiary">
                        <span class="btn-icon">üîç</span>
                        Browse Rooms
                    </button>
                </div>
                
                <div class="version-info">v0.2.0</div>
            </div>
        </div>
        
        <!-- Join Room Modal -->
        <div id="join-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Join Room</h2>
                <input type="text" id="room-code-input" maxlength="10" placeholder="Enter room code...">
                <div class="modal-buttons">
                    <button id="btn-join-confirm" class="btn btn-primary">Join</button>
                    <button id="btn-join-cancel" class="btn btn-secondary">Cancel</button>
                </div>
            </div>
        </div>
        
        <!-- Room Browser -->
        <div id="browse-screen" class="screen hidden">
            <div class="browse-container">
                <h2>Available Rooms</h2>
                <div id="room-list" class="room-list">
                    <div class="loading">Searching for rooms...</div>
                </div>
                <div class="browse-buttons">
                    <button id="btn-refresh-rooms" class="btn btn-secondary">Refresh</button>
                    <button id="btn-back-menu" class="btn btn-tertiary">Back</button>
                </div>
            </div>
        </div>
        
        <!-- Lobby Screen -->
        <div id="lobby-screen" class="screen hidden">
            <div class="lobby-container">
                <div class="lobby-header">
                    <h2>Game Lobby</h2>
                    <div class="room-code-display">
                        <span>Room Code:</span>
                        <span id="lobby-room-code" class="code">----</span>
                        <button id="btn-copy-code" class="btn-icon-small" title="Copy code">üìã</button>
                    </div>
                </div>
                
                <div class="lobby-settings" id="lobby-settings">
                    <h3>Game Settings</h3>
                    <div class="setting-row">
                        <label>Game Type</label>
                        <select id="select-game-type">
                            <option value="snake_classic">Snake Classic</option>
                            <option value="snake_3d">Snake 3D</option>
                        </select>
                    </div>
                    <div class="setting-row">
                        <label>Game Mode</label>
                        <select id="select-game-mode">
                            <option value="single_player">Single Player</option>
                            <option value="survival">Survival (Multiplayer)</option>
                            <option value="high_score">High Score (Multiplayer)</option>
                        </select>
                    </div>
                    <div class="setting-row">
                        <label>Barriers</label>
                        <select id="select-barrier-density">
                            <option value="none">None - Classic</option>
                            <option value="sparse">Sparse - Few Walls</option>
                            <option value="moderate">Moderate - Strategic</option>
                            <option value="dense">Dense - Maze</option>
                        </select>
                    </div>
                    <div class="setting-row">
                        <label>Map Size</label>
                        <select id="select-map-size">
                            <option value="small">Small (15x12)</option>
                            <option value="medium" selected>Medium (25x18)</option>
                            <option value="large">Large (35x22)</option>
                            <option value="extra_large">Extra Large (45x28)</option>
                        </select>
                    </div>
                </div>
                
                <div class="player-list" id="player-list">
                    <!-- Players will be added here -->
                </div>
                
                <div class="lobby-chat">
                    <div id="chat-messages" class="chat-messages"></div>
                    <div class="chat-input-row">
                        <input type="text" id="chat-input" placeholder="Type a message..." maxlength="200">
                        <button id="btn-send-chat" class="btn btn-small">Send</button>
                    </div>
                </div>
                
                <div class="lobby-buttons">
                    <button id="btn-ready" class="btn btn-primary">Ready</button>
                    <button id="btn-start-game" class="btn btn-success hidden">Start Game</button>
                    <button id="btn-leave-room" class="btn btn-danger">Leave</button>
                </div>
            </div>
        </div>
        
        <!-- Game Screen -->
        <div id="game-screen" class="screen hidden">
            <div id="game-container">
                <canvas id="game-canvas"></canvas>
            </div>
            <div id="game-hud">
                <div id="timer" class="hud-element">0:00</div>
                <div id="scoreboard" class="hud-element"></div>
            </div>
            <div id="countdown-overlay" class="overlay hidden">
                <span id="countdown-number">3</span>
            </div>
            <div id="game-over-overlay" class="overlay hidden">
                <div class="game-over-content">
                    <h2 id="game-over-title">Game Over</h2>
                    <div id="final-scores"></div>
                    <button id="btn-back-lobby" class="btn btn-primary">Back to Lobby</button>
                </div>
            </div>
        </div>
        
        <!-- Connection Status -->
        <div id="connection-status" class="connection-indicator disconnected">
            <span class="status-dot"></span>
            <span class="status-text">Disconnected</span>
        </div>
        
        <!-- Error Toast -->
        <div id="error-toast" class="toast hidden">
            <span class="toast-message"></span>
        </div>
    </div>
    
    <script type="module" src="static/js/main.js"></script>
</body>
</html>
